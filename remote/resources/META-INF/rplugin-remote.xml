<?xml version="1.0" encoding="UTF-8"?>

<idea-plugin>
  <extensions defaultExtensionNs="com.intellij">
    <projectService serviceImplementation="org.jetbrains.r.remote.filesystem.RRemoteHostViewManager"/>

    <postStartupActivity implementation="org.jetbrains.r.remote.filesystem.ROpenedRemoteFilesActivity"/>

    <projectService serviceImplementation="org.jetbrains.r.remote.filesystem.ROpenedRemoteFilesState"/>

    <applicationService serviceImplementation="org.jetbrains.r.remote.host.RRemoteHostManager"/>

    <toolWindow id="R Remote Host" anchor="left" canCloseContents="false" icon="/icons/toolWindow/RConsole.svg"
                factoryClass="org.jetbrains.r.remote.filesystem.RRemoteHostToolWindowFactory" secondary="false"/>

    <rInterpreterSettingsProvider implementation="org.jetbrains.r.remote.RRemoteInterpreterSettingsProvider"/>

    <virtualFileSystem implementationClass="org.jetbrains.r.remote.filesystem.RRemoteVFS"
                       key="rplugin-remote" physical="false"/>

    <editorTabTitleProvider implementation="org.jetbrains.r.remote.filesystem.RRemoteFileEditorTabTitleProvider"/>
  </extensions>

  <!-- Remote host view actions -->
  <actions>
    <group id="org.jetbrains.r.remote.filesystem.RRemoteHostViewPopupMenu">
      <action id="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewActionGroup"
              class="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewActionGroup"
              description="New..." icon="AllIcons.General.Add" popup="true"/>
      <reference id="RemoteHostView.SetPermissions"/>
      <reference id="RemoteHostView.Rename"/>
      <reference id="$Delete"/>
      <reference id="$Cut"/>
      <reference id="$Copy"/>
      <reference id="$Paste"/>
      <reference id="RemoteHostView.CopyPaths"/>
    </group>
    <action id="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction.NewFile"
            class="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction$NewFile"
            description="New file" icon="AllIcons.FileTypes.Text"/>
    <action id="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction.NewRFile"
            class="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction$NewRFile"
            description="New R script" icon="/icons/r.svg"/>
    <action id="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction.NewRMarkdownFile"
            class="org.jetbrains.r.remote.filesystem.RRemoteHostViewNewAction$NewRMarkdownFile"
            description="New RMarkdown document" icon="/icons/rMarkdown.svg"/>
  </actions>
</idea-plugin>
